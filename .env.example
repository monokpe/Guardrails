# PhiBlock Environment Variables Template

# --- Core API Configuration ---
DEBUG=false
LOG_LEVEL=INFO
# CORS_ALLOWED_ORIGINS=https://app.yourdomain.com,https://api.yourdomain.com

# --- Database Configuration ---
# Defaults to SQLite if not provided: sqlite:///./phiblock_dev.db
DATABASE_URL=postgresql://user:password@localhost:5432/phiblock
SQL_ECHO=false

# --- Redis Configuration ---
# Required for caching, rate limiting, and Celery broker
REDIS_URL=redis://localhost:6379/0

# --- Caching Configuration ---
CACHE_ENABLED=true
CACHE_TTL=300

# --- Security & Encryption ---
SECRET_KEY=your-secret-key-here-change-in-production
API_KEY_SALT=your-api-key-salt-here

# Audit Log Encryption (AES-256-GCM)
# If empty, encryption is disabled. If set, logs are encrypted before storage.
AUDIT_ENCRYPTION_SECRET=your-audit-secret-key-32-chars-at-least

# Column-level PII Encryption (Fernet)
# If set, sensitive DB columns are encrypted.
PII_ENCRYPTION_KEY=your-fernet-key-or-passphrase

# Redaction Consistency Key (HMAC)
# If set, HASH_REPLACEMENT strategy uses this for consistent masking.
PII_REDACTION_KEY=your-redaction-hmac-key

# --- Celery & Workers ---
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
# Specifically for results if different from REDIS_URL
# RESULT_BACKEND=redis://localhost:6379/0
# BROKER_URL=redis://localhost:6379/0

# --- Stripe Billing (Optional) ---
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PRICE_ID=price_...

# --- Webhook Security (Optional) ---
WEBHOOK_SIGNING_SECRET=your-webhook-secret
ALLOWED_WEBHOOK_DOMAINS=yourdomain.com,partner.com
WEBHOOK_RATE_LIMIT_PER_MINUTE=60
WEBHOOK_SIGNATURE_WINDOW=300

# --- Monitoring & External Services ---
SENTRY_DSN=
# HUGGINGFACE_TOKEN=your-hf-token (for private models if applicable)

# --- AWS Secrets Manager (Optional) ---
# If true, app attempts to fetch secrets from AWS SM before falling back to env vars.
# USE_AWS_SECRETS=false
# AWS_REGION=us-east-1
